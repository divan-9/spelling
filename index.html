
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Flashcard App</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #f4f4f4; }
        #app { text-align: center; }

        .card {
          height: 250px;
          perspective: 1000px;
        }

        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s; transform-style: preserve-3d; }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border: 1px solid #ccc; border-radius: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .card-front { background-color: white; }
        .card-back { background-color: #f9f9f9; transform: rotateY(180deg); }
        #controls, #navigation { margin-top: 20px; }
        button { margin: 5px; padding: 10px 20px; cursor: pointer; }
        input { padding: 10px; margin-top: 10px; }
        .diff { margin-top: 10px; }
        .diff span { padding: 2px 5px; border-radius: 3px; }
        .diff .correct { background-color: #d4edda; }
        .diff .incorrect { background-color: #f8d7da; }
    </style>
</head>
<body>

<div id="app">
    <div id="menu">
        <button id="week1">Week 1</button>
        <button id="week2">Week 2</button>
        <button id="week3">Week 3</button>
        <button id="week4">Week 4</button>
        <button id="week5">Week 5</button>
        <button id="week6">Week 6</button>
    </div>
    <div id="flashcard" class="card">
        <div class="card-inner">
            <div class="card-front">
                <div id="definition"></div>
                <button id="pronounce">Play Pronunciation</button>
                <input type="text" id="guess" placeholder="Your guess...">
                <button id="submit">Submit</button>
            </div>
            <div class="card-back">
                <div>answer: <span id="answer" class=""></span></div>
                <div>word: <b id="word" class=""></b></div>
                <div id="diff" class="diff"></div>
                <br>
                <div id="translation"></div>
                <br>
                <div id="sample"></div>
                <br>
                <div id="stats"></div>
            </div>
        </div>
    </div>
    <div id="navigation">
        <button id="prev">Previous</button>
        <button id="flip">Flip</button>
        <button id="next">Next</button>
    </div>
    <div id="congrats" style="display: none;">
        <h1>Congratulations!</h1>
        <p>You have learned all the words for this week.</p>
    </div>
</div>

<script>
    const words = {
        week1: [
            {
                word: "doubt",
                definition: "A feeling of uncertainty or lack of conviction.",
                translation: ["сомнение", "неуверенность", "сомневаться"],
                pronunciation: "doubt",
                sample: "She began to doubt her decision after hearing the news.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "lamb",
                definition: "A young sheep.",
                translation: ["ягнёнок", "барашек"],
                pronunciation: "lamb",
                sample: "The lamb followed its mother across the field.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "debt",
                definition: "Something, typically money, that is owed or due.",
                translation: ["долг", "задолженность"],
                pronunciation: "debt",
                sample: "He paid off his student debt last year.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "thumb",
                definition: "The short, thick first digit of the human hand.",
                translation: ["большой палец (руки)"],
                pronunciation: "thumb",
                sample: "She gave a thumbs-up to show her approval.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "solemn",
                definition: "Formal and dignified; serious.",
                translation: ["торжественный", "серьёзный", "важный"],
                pronunciation: "solemn",
                sample: "There was a solemn silence during the ceremony.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "autumn",
                definition: "The season between summer and winter; fall.",
                translation: ["осень"],
                pronunciation: "autumn",
                sample: "The leaves turn red and gold in autumn.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "column",
                definition: "An upright pillar, typically cylindrical, supporting a structure or standing alone as a monument.",
                translation: ["колонна", "столб", "графа (в таблице)"],
                pronunciation: "column",
                sample: "The ancient temple was supported by marble columns.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "knight",
                definition: "A man awarded a nonhereditary title by a monarch for service, especially in a military capacity.",
                translation: ["рыцарь"],
                pronunciation: "knight",
                sample: "The knight wore shining armor and rode a horse.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "knuckle",
                definition: "A joint of a finger, when the fist is closed.",
                translation: ["сустав пальца", "костяшка"],
                pronunciation: "knuckle",
                sample: "He rapped on the door with his knuckles.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "knot",
                definition: "A fastening made by tying a piece of string, rope, or something similar.",
                translation: ["узел"],
                pronunciation: "knot",
                sample: "She tied a knot to secure the rope.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week2: [
            {
                word: "wrestle",
                definition: "To take part in a fight, either as sport or in earnest, that involves grappling with one's opponent and trying to throw or force them to the ground.",
                translation: ["бороться", "кувыркаться"],
                pronunciation: "wrestle",
                sample: "The two boys began to wrestle in the playground.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "wrapper",
                definition: "A piece of paper, plastic, or foil that covers or encloses something.",
                translation: ["обёртка", "обёрточная бумага"],
                pronunciation: "wrapper",
                sample: "She threw the candy wrapper into the trash.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "island",
                definition: "A piece of land surrounded by water.",
                translation: ["остров"],
                pronunciation: "island",
                sample: "They spent their vacation on a tropical island.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "aisle",
                definition: "A passage between rows of seats.",
                translation: ["проход"],
                pronunciation: "aisle",
                sample: "Please take your seat; you are blocking the aisle.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "debris",
                definition: "Scattered pieces of rubbish or remains.",
                translation: ["обломки", "мусор"],
                pronunciation: "debris",
                sample: "The storm left debris all over the streets.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "mortgage",
                definition: "A legal agreement by which a bank lends money in exchange for taking title of the debtor's property.",
                translation: ["ипотека", "заклад"],
                pronunciation: "mortgage",
                sample: "They applied for a mortgage to buy their first house.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "Christmas",
                definition: "The annual Christian festival celebrating Christ's birth, held on December 25.",
                translation: ["Рождество"],
                pronunciation: "Christmas",
                sample: "They decorated the tree for Christmas.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "yacht",
                definition: "A medium-sized sailboat equipped for cruising or racing.",
                translation: ["яхта"],
                pronunciation: "yacht",
                sample: "They sailed the yacht across the bay.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guarantee",
                definition: "A formal promise that certain conditions will be fulfilled.",
                translation: ["гарантия", "гарантировать"],
                pronunciation: "guarantee",
                sample: "The product comes with a two-year guarantee.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guilty",
                definition: "Responsible for a specified wrongdoing.",
                translation: ["виновный", "виноватый"],
                pronunciation: "guilty",
                sample: "He felt guilty about lying to his friend.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week3: [
            {
                word: "can",
                definition: "Used to express ability or possibility.",
                translation: ["мочь", "уметь"],
                pronunciation: "can",
                sample: "I can swim across the lake.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "could",
                definition: "Past form of 'can'; used to express past ability or polite possibility.",
                translation: ["мог", "мог бы"],
                pronunciation: "could",
                sample: "When I was young, I could run very fast.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "may",
                definition: "Used to express possibility or permission.",
                translation: ["мочь", "возможно", "можно"],
                pronunciation: "may",
                sample: "It may rain later today.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "might",
                definition: "Used to express a small possibility or a tentative suggestion.",
                translation: ["мог бы", "возможно"],
                pronunciation: "might",
                sample: "We might go to the cinema tonight.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "must",
                definition: "Used to express obligation, necessity, or strong probability.",
                translation: ["должен", "необходимо"],
                pronunciation: "must",
                sample: "You must wear a seat belt.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "shall",
                definition: "Used to make offers or suggestions; in formal English, indicates future (mostly with I/we).",
                translation: ["должен", "следует"],
                pronunciation: "shall",
                sample: "Shall we start the meeting?",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "should",
                definition: "Used to give advice or indicate expectation or duty.",
                translation: ["следует", "должен"],
                pronunciation: "should",
                sample: "You should drink more water.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "will",
                definition: "Used to express future actions, willingness, or promises.",
                translation: ["будет", "собираюсь"],
                pronunciation: "will",
                sample: "I will call you tomorrow.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "would",
                definition: "Past form of 'will'; used to talk about habits in the past or polite requests and conditionals.",
                translation: ["бы", "хотел бы"],
                pronunciation: "would",
                sample: "When we were kids, we would play outside all day.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "ought",
                definition: "Used to express moral duty or correctness; usually followed by 'to'.",
                translation: ["следует"],
                pronunciation: "ought",
                sample: "You ought to apologize.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week4: [
            {
                word: "equipment",
                definition: "The necessary items for a particular purpose.",
                translation: ["оборудование", "снаряжение"],
                pronunciation: "equipment",
                sample: "The lab bought new safety equipment.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "environment",
                definition: "The surroundings or conditions in which a person, animal, or plant lives or operates.",
                translation: ["окружающая среда", "среда"],
                pronunciation: "environment",
                sample: "We need to protect the environment.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "goverment",
                definition: "The body of a nation, state, or community.",
                translation: ["правительство"],
                pronunciation: "goverment",
                sample: "The goverment announced new policies.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "parliament",
                definition: "The highest legislature, consisting of the sovereign, the House of Lords, and the House of Commons.",
                translation: ["парламент"],
                pronunciation: "parliament",
                sample: "Parliament debated the bill late into the night.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "enjoyment",
                definition: "The state or process of taking pleasure in something.",
                translation: ["наслаждение", "удовольствие"],
                pronunciation: "enjoyment",
                sample: "Reading is his greatest enjoyment.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "document",
                definition: "A piece of written, printed, or electronic matter that provides information or evidence.",
                translation: ["документ"],
                pronunciation: "document",
                sample: "Please sign the document at the bottom.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "management",
                definition: "The process of dealing with or controlling things or people.",
                translation: ["менеджмент", "управление", "руководство"],
                pronunciation: "management",
                sample: "Good time management is essential.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "movement",
                definition: "An act of changing physical location or position.",
                translation: ["движение", "перемещение"],
                pronunciation: "movement",
                sample: "There was movement behind the curtain.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "replacement",
                definition: "The action or process of replacing someone or something.",
                translation: ["замена", "замещение"],
                pronunciation: "replacement",
                sample: "The company ordered a replacement part.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "statement",
                definition: "A definite or clear expression of something in speech or writing.",
                translation: ["заявление", "утверждение"],
                pronunciation: "statement",
                sample: "She gave a statement to the press.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week5: [
            {
                word: "certainly",
                definition: "Used to emphasize a statement or response; without doubt.",
                translation: ["конечно", "несомненно"],
                pronunciation: "certainly",
                sample: "I will certainly help you tomorrow.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "definitely",
                definition: "Without any doubt; clearly.",
                translation: ["определённо", "точно"],
                pronunciation: "definitely",
                sample: "She definitely passed the exam.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "possibly",
                definition: "Perhaps; used to indicate uncertainty or possibility.",
                translation: ["возможно"],
                pronunciation: "possibly",
                sample: "We will possibly arrive late.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "perhaps",
                definition: "Used to express uncertainty or possibility.",
                translation: ["возможно", "может быть"],
                pronunciation: "perhaps",
                sample: "Perhaps we should try again tomorrow.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "probably",
                definition: "Almost certainly; as far as one knows or can tell.",
                translation: ["вероятно", "скорее всего"],
                pronunciation: "probably",
                sample: "He will probably be late.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "fequently",
                definition: "Often; many times (common misspelling of 'frequently').",
                translation: ["часто"],
                pronunciation: "fequently",
                sample: "She fequently visits her grandparents.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "often",
                definition: "Frequently; many times.",
                translation: ["часто"],
                pronunciation: "often",
                sample: "I often go for a walk after dinner.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "occasionally",
                definition: "At infrequent or irregular intervals; now and then.",
                translation: ["изредка", "время от времени"],
                pronunciation: "occasionally",
                sample: "We occasionally eat out on weekends.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "rarely",
                definition: "Not often; seldom.",
                translation: ["редко"],
                pronunciation: "rarely",
                sample: "He rarely watches TV.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "always",
                definition: "At all times; on all occasions.",
                translation: ["всегда"],
                pronunciation: "always",
                sample: "She always keeps her promises.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week6: [
            {
                word: "father",
                definition: "A man in relation to his natural child or children.",
                translation: ["отец", "папа"],
                pronunciation: "father",
                sample: "He became a father when he was 30.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "further",
                definition: "At, to, or by a greater distance (used to indicate the extent to which one thing is remote from another).",
                translation: ["дальше", "далее", "дальнейший", "дополнительный", "продвигать", "способствовать осуществлению"],
                pronunciation: "further",
                sample: "We need to research further into this matter.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guessed",
                definition: "Estimate or suppose (something) without sufficient information to be sure of being correct.",
                translation: ["угадывать", "догадываться", "предполагать"],
                pronunciation: "guessed",
                sample: "As you might have guessed, her parents are not happy about her decision.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guest",
                definition: "A person who is invited to visit the home of or take part in a function organized by another.",
                translation: ["гость", "гостья"],
                pronunciation: "guest",
                sample: "Our guests should be arriving soon.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "heard",
                definition: "Perceive with the ear the sound made by (someone or something).",
                translation: ["услышал", "слышал"],
                pronunciation: "heard",
                sample: "I heard you scream.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "herd",
                definition: "A large group of animals, especially hoofed mammals such as cattle, elephants, goats, or sheep, that live, feed, or migrate together or are kept together as livestock.",
                translation: ["стадо"],
                pronunciation: "herd",
                sample: "The herd grazed peacefully in the pasture.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "led",
                definition: "Show (someone) the way to a destination by going in front of or beside them.",
                translation: ["вёл", "привела"],
                pronunciation: "led",
                sample: "The tour guide led us through the ancient ruins.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "lead",
                definition: "The initiative in an action; an example for others to follow.",
                translation: ["вести", "руководить", "возглавлять", "лидерство", "преимущество", "главный"],
                pronunciation: "lead",
                sample: "The runner from Kenya was in the lead for most of the race.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "morning",
                definition: "The period of time from sunrise to noon.",
                translation: ["утро"],
                pronunciation: "morning",
                sample: "I worked in the yard for part of the morning.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "mourning",
                definition: "The expression of deep sorrow for someone who has died.",
                translation: ["траур", "скорбь"],
                pronunciation: "mourning",
                sample: "She is still in mourning for her dead husband.",
                correctCount: 0,
                attempts: 0
            }
        ]
    };

    let currentWeek = 'week1';
    let unlearnedWords = [];
    let currentCardIndex = 0;
    let synth = window.speechSynthesis;

    const definitionEl = document.getElementById('definition');
    const translationEl = document.getElementById('translation');
    const sampleEl = document.getElementById('sample');
    const diffEl = document.getElementById('diff');
    const guessInput = document.getElementById('guess');
    const cardEl = document.getElementById('flashcard');
    const congratsEl = document.getElementById('congrats');
    const navigationEl = document.getElementById('navigation');
    const statsEl = document.getElementById('stats');
    const answerEl = document.getElementById('answer');
    const wordEl = document.getElementById('word');

    function getUnlearnedWords() {
        return words[currentWeek].filter(word => word.correctCount < 3);
    }

    function loadCard() {
        unlearnedWords = getUnlearnedWords();
        if (unlearnedWords.length === 0) {
            cardEl.style.display = 'none';
            navigationEl.style.display = 'none';
            congratsEl.style.display = 'block';
            return;
        }
        cardEl.style.display = 'block';
        navigationEl.style.display = 'block';
        congratsEl.style.display = 'none';

        const word = unlearnedWords[currentCardIndex];
        definitionEl.textContent = word.definition;
        translationEl.innerText = word.translation.join(', ');
        sampleEl.textContent = word.sample;
        statsEl.textContent = `${word.correctCount} / ${word.attempts}`;
        diffEl.innerHTML = '';
        guessInput.value = '';
        cardEl.classList.remove('flipped');
        speak(word.pronunciation);
        guessInput.focus();
    }

    function speak(text) {
        if (synth.speaking) {
            console.error('speechSynthesis.speaking');
            return;
        }
        if (text !== '') {
            const utterThis = new SpeechSynthesisUtterance(text);
            utterThis.onend = function (event) {
                console.log('SpeechSynthesisUtterance.onend');
            }
            utterThis.onerror = function (event) {
                console.error('SpeechSynthesisUtterance.onerror');
            }
            synth.speak(utterThis);
        }
    }

    function showDiff(guess, correct) {
        let result = '';
        let isCorrect = true;
        for (let i = 0; i < correct.length; i++) {
            if (i < guess.length && guess[i].toLowerCase() === correct[i].toLowerCase()) {
                result += `<span class="correct">${correct[i]}</span>`;
            } else {
                result += `<span class="incorrect">${correct[i]}</span>`;
                isCorrect = false;
            }
        }
        if (guess.length > correct.length) {
            result += `<span class="incorrect">${guess.substring(correct.length)}</span>`;
            isCorrect = false;
        }
        if (guess.length < correct.length) {
            isCorrect = false;
        }
        diffEl.innerHTML = result;
        return isCorrect;
    }

    document.getElementById('week1').addEventListener('click', () => {
        currentWeek = 'week1';
        words.week1.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week2').addEventListener('click', () => {
        currentWeek = 'week2';
        words.week2.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week3').addEventListener('click', () => {
        currentWeek = 'week3';
        words.week3.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week4').addEventListener('click', () => {
        currentWeek = 'week4';
        words.week4.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week5').addEventListener('click', () => {
        currentWeek = 'week5';
        words.week5.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week6').addEventListener('click', () => {
        currentWeek = 'week6';
        words.week6.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('pronounce').addEventListener('click', () => {
        speak(unlearnedWords[currentCardIndex].pronunciation);
    });

    document.getElementById('submit').addEventListener('click', () => {
        const guess = guessInput.value;
        const correct = unlearnedWords[currentCardIndex].word;
        unlearnedWords[currentCardIndex].attempts++;
        const isCorrect = showDiff(guess, correct);
        if (isCorrect) {
            unlearnedWords[currentCardIndex].correctCount++;
        }
        cardEl.classList.add('flipped');
        statsEl.textContent = `${unlearnedWords[currentCardIndex].correctCount} / ${unlearnedWords[currentCardIndex].attempts}`;
        answerEl.textContent = guess;
        wordEl.textContent = correct;
    });

    function loadNextCard() {
        if (cardEl.classList.contains('flipped')) {
            cardEl.classList.remove('flipped');
            cardEl.addEventListener('transitionend', () => {
                loadCard();
            }, { once: true });
        } else {
            loadCard();
        }
    }

    guessInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            if (cardEl.classList.contains('flipped')) {
                currentCardIndex = (currentCardIndex + 1) % unlearnedWords.length;
                loadNextCard();
            }
            else {
                document.getElementById('submit').click();
            }
        }
    });

    document.getElementById('flip').addEventListener('click', () => {
        cardEl.classList.toggle('flipped');
    });

    document.getElementById('next').addEventListener('click', () => {
        currentCardIndex = (currentCardIndex + 1) % unlearnedWords.length;
        loadNextCard();
    });

    document.getElementById('prev').addEventListener('click', () => {
        currentCardIndex = (currentCardIndex - 1 + unlearnedWords.length) % unlearnedWords.length;
        loadNextCard();
    });

    loadCard();
</script>

</body>
</html>