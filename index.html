
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Flashcard App</title>
    <style>
        body { font-family: sans-serif; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; background-color: #f4f4f4; }
        #app { text-align: center; }
        .card { width: 400px; height: 250px; perspective: 1000px; }
        .card-inner { position: relative; width: 100%; height: 100%; text-align: center; transition: transform 0.8s; transform-style: preserve-3d; }
        .card.flipped .card-inner { transform: rotateY(180deg); }
        .card-front, .card-back { position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden; border: 1px solid #ccc; border-radius: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .card-front { background-color: white; }
        .card-back { background-color: #f9f9f9; transform: rotateY(180deg); }
        #controls, #navigation { margin-top: 20px; }
        button { margin: 5px; padding: 10px 20px; cursor: pointer; }
        input { padding: 10px; margin-top: 10px; }
        .diff { margin-top: 10px; }
        .diff span { padding: 2px 5px; border-radius: 3px; }
        .diff .correct { background-color: #d4edda; }
        .diff .incorrect { background-color: #f8d7da; }
    </style>
</head>
<body>

<div id="app">
    <div id="menu">
        <button id="week1">Week 1</button>
        <button id="week2">Week 2</button>
        <button id="week3">Week 3</button>
        <button id="week4">Week 4</button>
        <button id="week5">Week 5</button>
        <button id="week6">Week 6</button>
    </div>
    <div id="flashcard" class="card">
        <div class="card-inner">
            <div class="card-front">
                <div id="definition"></div>
                <button id="pronounce">Play Pronunciation</button>
                <input type="text" id="guess" placeholder="Your guess...">
                <button id="submit">Submit</button>
            </div>
            <div class="card-back">
                <div id="diff" class="diff"></div>
                <br>
                <div id="translation"></div>
                <br>
                <div id="sample"></div>
                <br>
                <div id="stats"></div>
            </div>
        </div>
    </div>
    <div id="navigation">
        <button id="prev">Previous</button>
        <button id="flip">Flip</button>
        <button id="next">Next</button>
    </div>
    <div id="congrats" style="display: none;">
        <h1>Congratulations!</h1>
        <p>You have learned all the words for this week.</p>
    </div>
</div>

<script>
    const words = {
        week1: [
            {
                word: "vicious",
                definition: "Deliberately cruel or violent.",
                translation: ["жестокий", "злой", "злобный", "порочный"],
                pronunciation: "vicious",
                sample: "I know you're upset with her, but there's no need to be vicious.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "gracious",
                definition: "Marked by kindness and courtesy; pleasant, polite, and calm.",
                translation: ["милосердный", "снисходительный", "любезный", "милостивый", "добрый"],
                pronunciation: "gracious",
                sample: "The gracious hostess greeted everyone warmly.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "spacious",
                definition: "Having ample space; roomy or vast.",
                translation: ["просторный", "вместительный"],
                pronunciation: "spacious",
                sample: "The house has a spacious kitchen and dining area.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "malicious",
                definition: "Having or showing a desire to cause harm to someone.",
                translation: ["вредоносный", "злонамеренный", "злой", "злостный", "злобный", "зловредный", "злоумышленный"],
                pronunciation: "malicious",
                sample: "Some malicious rumors are circulating about his past.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "precious",
                definition: "Of great value or high price; highly esteemed or cherished.",
                translation: ["драгоценный", "ценный", "дорогой"],
                pronunciation: "precious",
                sample: "My wedding ring is very precious to me.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "conscious",
                definition: "Awake and aware of one's surroundings.",
                translation: ["сознательный", "осознанный", "находящийся в сознании", "сознающий", "ощущающий"],
                pronunciation: "conscious",
                sample: "He was fully conscious when we found him.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "delicious",
                definition: "Highly pleasant to the taste.",
                translation: ["вкусный", "аппетитный", "лакомый", "смачный"],
                pronunciation: "delicious",
                sample: "The food was absolutely delicious.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "suspicious",
                definition: "Having or showing a cautious distrust of someone or something.",
                translation: ["подозрительный", "сомнительный"],
                pronunciation: "suspicious",
                sample: "We were instructed to report any suspicious activity in the neighborhood.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "atrocious",
                definition: "Of a very poor quality; extremely bad or unpleasant.",
                translation: ["чудовищный", "зверский"],
                pronunciation: "atrocious",
                sample: "The weather was atrocious all week.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "ferocious",
                definition: "Savagely fierce",
                translation: ["свирепый", "яростный", "жестокий", "лютый"],
                pronunciation: "ferocious",
                sample: "The ferocious storm caused great damage to the houses along the coast.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week2: [
            {
                word: "ambitious",
                definition: "Having or showing a strong desire and determination to succeed.",
                translation: ["амбициозный", "честолюбивый", "самолюбивый"],
                pronunciation: "ambitious",
                sample: "He is very ambitious and hopes to become a CEO one day.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "cautious",
                definition: "Careful to avoid potential problems or dangers.",
                translation: ["осторожный", "осмотрительный", "предусмотрительный", "опасливый"],
                pronunciation: "cautious",
                sample: "You cannot be overly cautious when you're driving in snow.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "fictitious",
                definition: "Not real or true, being imaginary or having been fabricated.",
                translation: ["фиктивный", "вымышленный", "поддельный", "ложный", "надуманный"],
                pronunciation: "fictitious",
                sample: "The story he told about winning the lottery was completely fictitious.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "infectious",
                definition: "Likely to spread or influence others in a rapid manner.",
                translation: ["заразный", "заразительный", "инфекционный"],
                pronunciation: "infectious",
                sample: "Her enthusiasm was infectious, and soon everyone in the room was smiling.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "nutritious",
                definition: "Efficient as food; nourishing.",
                translation: ["питательный", "калорийный", "сытный", "полезный"],
                pronunciation: "nutritious",
                sample: "It is always important to choose enjoyable, nutritious foods.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "contentious",
                definition: "Causing or likely to cause an argument; controversial.",
                translation: ["спорный", "противоречивый", "дискуссионный", "вздорный", "сварливый"],
                pronunciation: "contentious",
                sample: "The proposal is highly contentious.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "superstitious",
                definition: "Having or showing a belief in superstitions.",
                translation: ["суеверный", "мнительный", "боязливый"],
                pronunciation: "superstitious",
                sample: "He's very superstitious and won't pitch without his lucky mitt.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "pretentious",
                definition: "Attempting to impress by affecting greater importance, talent, culture, etc., than is actually possessed.",
                translation: ["претенциозный", "вычурный", "много о себе возомнивший", "притязательный", "пафосный"],
                pronunciation: "pretentious",
                sample: "His writing style is unnecessarily pretentious.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "anxious",
                definition: "Experiencing worry, unease, or nervousness, typically about an imminent event or something with an uncertain outcome.",
                translation: ["тревожный", "взволнованный", "беспокойный", "озабоченный", "встревоженный"],
                pronunciation: "anxious",
                sample: "She feels anxious and depressed.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "obnoxious",
                definition: "Extremely unpleasant.",
                translation: ["неприятный", "несносный", "противный", "омерзительный", "отвратительный", "мерзкий", "оскорбительный", "надоедливый", "наглый"],
                pronunciation: "obnoxious",
                sample: "Some teenagers were being loud and obnoxious.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week3: [
            {
                word: "symbol",
                definition: "Something that represents or stands for something else.",
                translation: ["символ", "знак", "эмблема"],
                pronunciation: "symbol",
                sample: "The dove is a symbol of peace.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "mystery",
                definition: "Something that is difficult or impossible to understand or explain.",
                translation: ["тайна", "загадка", "таинственность"],
                pronunciation: "mystery",
                sample: "The disappearance of the ancient artifact remains a complete mystery to archaeologists.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "lyrics",
                definition: "The words of a song.",
                translation: ["текст песни", "лирика"],
                pronunciation: "lyrics",
                sample: "Paul Simon wrote the lyrics for most of his songs.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "oxygen",
                definition: "A chemical element that is a colorless, odorless gas and is essential for most living things.",
                translation: ["кислород"],
                pronunciation: "oxygen",
                sample: "Plants produce oxygen during photosynthesis.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "symptom",
                definition: "A physical or mental feature that is regarded as indicating a condition of disease.",
                translation: ["симптом", "признак"],
                pronunciation: "symptom",
                sample: "Fever is a symptom of many illnesses.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "physical",
                definition: "Relating to the body as opposed to the mind.",
                translation: ["физический", "телесный", "материальный"],
                pronunciation: "physical",
                sample: "The program is designed to address both physical and emotional health.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "system",
                definition: "A set of things working together as parts of a mechanism or an interconnecting network.",
                translation: ["система"],
                pronunciation: "system",
                sample: "Under the new system, students will have to pass an exam to graduate.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "typical",
                definition: "Having the distinctive qualities of a particular type of person or thing.",
                translation: ["типичный"],
                pronunciation: "typical",
                sample: "This painting is typical of his early work.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "crystal",
                definition: "A piece of a homogeneous solid substance having a natural geometrically regular form with symmetrically arranged plane faces.",
                translation: ["кристалл", "хрусталь"],
                pronunciation: "crystal",
                sample: "The wine glasses are made of the finest crystal.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "rhythm",
                definition: "A strong, regular repeated pattern of movement or sound.",
                translation: ["ритм"],
                pronunciation: "rhythm",
                sample: "She moved in rhythm with the music.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week4: [
            {
                word: "apply",
                definition: "Make a formal application or request.",
                translation: ["подавать заявление", "применять", "накладывать", "обращаться"],
                pronunciation: "apply",
                sample: "You should apply for the job.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "supply",
                definition: "A stock of a resource from which a person or place can be provided with the necessary amount of that resource.",
                translation: ["поставка", "предложение", "снабжение", "запас", "поставлять", "снабжать"],
                pronunciation: "supply",
                sample: "The company supplied the necessary money.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "identify",
                definition: "Establish or indicate who or what (someone or something) is.",
                translation: ["идентифицировать", "определять"],
                pronunciation: "identify",
                sample: "She identified the dog as her lost pet.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "occupy",
                definition: "Reside or have one's place of business in (a building).",
                translation: ["занимать", "оккупировать", "захватывать"],
                pronunciation: "occupy",
                sample: "Their house occupies a beautiful spot next to the ocean.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "multiply",
                definition: "Increase or cause to increase greatly in number or quantity.",
                translation: ["умножать", "размножаться", "увеличивать(ся)"],
                pronunciation: "multiply",
                sample: "The bacteria multiply rapidly in warm, moist conditions.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "rhyme",
                definition: "Correspondence of sound between words or the endings of words, especially when these are used at the ends of lines of poetry.",
                translation: ["рифма", "рифмовать(ся)"],
                pronunciation: "rhyme",
                sample: "She used 'moon' as a rhyme for 'June'.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "cycle",
                definition: "A series of events that are regularly repeated in the same order.",
                translation: ["цикл", "круговорот", "велосипед"],
                pronunciation: "cycle",
                sample: "The seasons follow a natural cycle.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "python",
                definition: "A large heavy-bodied nonvenomous snake that is not native to the Americas and is noted for constricting its prey.",
                translation: ["питон"],
                pronunciation: "python",
                sample: "The python swallowed the goat whole.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "hygiene",
                definition: "Conditions or practices conducive to maintaining health and preventing disease, especially through cleanliness.",
                translation: ["гигиена"],
                pronunciation: "hygiene",
                sample: "Good hygiene is an essential part of the defense against flu.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "hyphen",
                definition: "The sign -, used to join words to indicate that they have a combined meaning or that they are linked in the grammar of a sentence (as in pick-me-up, rock-forming), to indicate the division of a word at the end of a line, or to indicate a missing or implied element (as in short- and long-term).",
                translation: ["дефис", "соединительная черточка"],
                pronunciation: "hyphen",
                sample: "The phrase 'well-known' uses a hyphen.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week5: [
            {
                word: "past",
                definition: "Gone by in time and no longer existing.",
                translation: ["прошлый", "прошедший", "минувший", "прошлое", "мимо"],
                pronunciation: "past",
                sample: "She was hired based on her past experience in sales.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "passed",
                definition: "Move or cause to move in a specified direction.",
                translation: ["прошел", "передал", "принят", "прошло"],
                pronunciation: "passed",
                sample: "I passed him on the stairs this morning.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "proceed",
                definition: "Begin or continue a course of action.",
                translation: ["продолжать", "следовать"],
                pronunciation: "proceed",
                sample: "The work can now proceed.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "precede",
                definition: "Come before (something) in time.",
                translation: ["предшествовать"],
                pronunciation: "precede",
                sample: "A short speech will precede the dinner.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "aisle",
                definition: "A passage between rows of seats in a building such as a church or theater, an airplane, or a train.",
                translation: ["проход"],
                pronunciation: "aisle",
                sample: "The bride walked down the aisle.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "isle",
                definition: "An island or peninsula, especially a small one.",
                translation: ["остров"],
                pronunciation: "isle",
                sample: "The deserted isle was in the middle of the Atlantic Ocean.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "aloud",
                definition: "Audibly; not silently or in a whisper.",
                translation: ["вслух"],
                pronunciation: "aloud",
                sample: "She read the story aloud.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "allowed",
                definition: "Give the necessary time or opportunity for.",
                translation: ["допускается", "разрешено"],
                pronunciation: "allowed",
                sample: "Smoking is not allowed in the restaurant.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "affect",
                definition: "Have an effect on; make a difference to.",
                translation: ["влиять", "повлиять на", "затрагивать", "сказаться на", "воздействовать на"],
                pronunciation: "affect",
                sample: "The heavy rain affected our lawn.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "effect",
                definition: "A change that is a consequence or result of an action or other cause.",
                translation: ["результат", "следствие", "влияние", "воздействие", "эффект"],
                pronunciation: "effect",
                sample: "The changes had an immediate effect.",
                correctCount: 0,
                attempts: 0
            }
        ],
        week6: [
            {
                word: "father",
                definition: "A man in relation to his natural child or children.",
                translation: ["отец", "папа"],
                pronunciation: "father",
                sample: "He became a father when he was 30.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "further",
                definition: "At, to, or by a greater distance (used to indicate the extent to which one thing is remote from another).",
                translation: ["дальше", "далее", "дальнейший", "дополнительный", "продвигать", "способствовать осуществлению"],
                pronunciation: "further",
                sample: "We need to research further into this matter.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guessed",
                definition: "Estimate or suppose (something) without sufficient information to be sure of being correct.",
                translation: ["угадывать", "догадываться", "предполагать"],
                pronunciation: "guessed",
                sample: "As you might have guessed, her parents are not happy about her decision.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "guest",
                definition: "A person who is invited to visit the home of or take part in a function organized by another.",
                translation: ["гость", "гостья"],
                pronunciation: "guest",
                sample: "Our guests should be arriving soon.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "heard",
                definition: "Perceive with the ear the sound made by (someone or something).",
                translation: ["услышал", "слышал"],
                pronunciation: "heard",
                sample: "I heard you scream.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "herd",
                definition: "A large group of animals, especially hoofed mammals such as cattle, elephants, goats, or sheep, that live, feed, or migrate together or are kept together as livestock.",
                translation: ["стадо"],
                pronunciation: "herd",
                sample: "The herd grazed peacefully in the pasture.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "led",
                definition: "Show (someone) the way to a destination by going in front of or beside them.",
                translation: ["вёл", "привела"],
                pronunciation: "led",
                sample: "The tour guide led us through the ancient ruins.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "lead",
                definition: "The initiative in an action; an example for others to follow.",
                translation: ["вести", "руководить", "возглавлять", "лидерство", "преимущество", "главный"],
                pronunciation: "lead",
                sample: "The runner from Kenya was in the lead for most of the race.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "morning",
                definition: "The period of time from sunrise to noon.",
                translation: ["утро"],
                pronunciation: "morning",
                sample: "I worked in the yard for part of the morning.",
                correctCount: 0,
                attempts: 0
            },
            {
                word: "mourning",
                definition: "The expression of deep sorrow for someone who has died.",
                translation: ["траур", "скорбь"],
                pronunciation: "mourning",
                sample: "She is still in mourning for her dead husband.",
                correctCount: 0,
                attempts: 0
            }
        ]
    };

    let currentWeek = 'week1';
    let unlearnedWords = [];
    let currentCardIndex = 0;
    let synth = window.speechSynthesis;

    const definitionEl = document.getElementById('definition');
    const translationEl = document.getElementById('translation');
    const sampleEl = document.getElementById('sample');
    const diffEl = document.getElementById('diff');
    const guessInput = document.getElementById('guess');
    const cardEl = document.getElementById('flashcard');
    const congratsEl = document.getElementById('congrats');
    const navigationEl = document.getElementById('navigation');
    const statsEl = document.getElementById('stats');

    function getUnlearnedWords() {
        return words[currentWeek].filter(word => word.correctCount < 3);
    }

    function loadCard() {
        unlearnedWords = getUnlearnedWords();
        if (unlearnedWords.length === 0) {
            cardEl.style.display = 'none';
            navigationEl.style.display = 'none';
            congratsEl.style.display = 'block';
            return;
        }
        cardEl.style.display = 'block';
        navigationEl.style.display = 'block';
        congratsEl.style.display = 'none';

        const word = unlearnedWords[currentCardIndex];
        definitionEl.textContent = word.definition;
        translationEl.innerText = word.translation.join(', ');
        sampleEl.textContent = word.sample;
        statsEl.textContent = `${word.correctCount} / ${word.attempts}`;
        diffEl.innerHTML = '';
        guessInput.value = '';
        cardEl.classList.remove('flipped');
        speak(word.pronunciation);
        guessInput.focus();
    }

    function speak(text) {
        if (synth.speaking) {
            console.error('speechSynthesis.speaking');
            return;
        }
        if (text !== '') {
            const utterThis = new SpeechSynthesisUtterance(text);
            utterThis.onend = function (event) {
                console.log('SpeechSynthesisUtterance.onend');
            }
            utterThis.onerror = function (event) {
                console.error('SpeechSynthesisUtterance.onerror');
            }
            synth.speak(utterThis);
        }
    }

    function showDiff(guess, correct) {
        let result = '';
        let isCorrect = true;
        for (let i = 0; i < correct.length; i++) {
            if (i < guess.length && guess[i].toLowerCase() === correct[i].toLowerCase()) {
                result += `<span class="correct">${correct[i]}</span>`;
            } else {
                result += `<span class="incorrect">${correct[i]}</span>`;
                isCorrect = false;
            }
        }
        if (guess.length > correct.length) {
            result += `<span class="incorrect">${guess.substring(correct.length)}</span>`;
            isCorrect = false;
        }
        if (guess.length < correct.length) {
            isCorrect = false;
        }
        diffEl.innerHTML = result;
        return isCorrect;
    }

    document.getElementById('week1').addEventListener('click', () => {
        currentWeek = 'week1';
        words.week1.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week2').addEventListener('click', () => {
        currentWeek = 'week2';
        words.week2.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week3').addEventListener('click', () => {
        currentWeek = 'week3';
        words.week3.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week4').addEventListener('click', () => {
        currentWeek = 'week4';
        words.week4.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        load_card();
    });

    document.getElementById('week5').addEventListener('click', () => {
        currentWeek = 'week5';
        words.week5.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('week6').addEventListener('click', () => {
        currentWeek = 'week6';
        words.week6.forEach(word => { word.correctCount = 0; word.attempts = 0; });
        currentCardIndex = 0;
        loadCard();
    });

    document.getElementById('pronounce').addEventListener('click', () => {
        speak(unlearnedWords[currentCardIndex].pronunciation);
    });

    document.getElementById('submit').addEventListener('click', () => {
        const guess = guessInput.value;
        const correct = unlearnedWords[currentCardIndex].word;
        unlearnedWords[currentCardIndex].attempts++;
        const isCorrect = showDiff(guess, correct);
        if (isCorrect) {
            unlearnedWords[currentCardIndex].correctCount++;
        }
        cardEl.classList.add('flipped');
        statsEl.textContent = `${unlearnedWords[currentCardIndex].correctCount} / ${unlearnedWords[currentCardIndex].attempts}`;
    });

    function loadNextCard() {
        if (cardEl.classList.contains('flipped')) {
            cardEl.classList.remove('flipped');
            cardEl.addEventListener('transitionend', () => {
                loadCard();
            }, { once: true });
        } else {
            loadCard();
        }
    }

    guessInput.addEventListener('keydown', (event) => {
        if (event.key === 'Enter') {
            if (cardEl.classList.contains('flipped')) {
                currentCardIndex = (currentCardIndex + 1) % unlearnedWords.length;
                loadNextCard();
            }
            else {
                document.getElementById('submit').click();
            }
        }
    });

    document.getElementById('flip').addEventListener('click', () => {
        cardEl.classList.toggle('flipped');
    });

    document.getElementById('next').addEventListener('click', () => {
        currentCardIndex = (currentCardIndex + 1) % unlearnedWords.length;
        loadNextCard();
    });

    document.getElementById('prev').addEventListener('click', () => {
        currentCardIndex = (currentCardIndex - 1 + unlearnedWords.length) % unlearnedWords.length;
        loadNextCard();
    });

    loadCard();
</script>

</body>
</html>
